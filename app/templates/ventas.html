{% extends "base.html" %}

{% block title %}Ventas{% endblock %}

{% block script %}
    <script src="{{ url_for('static', filename='js/ventas.js') }}" defer></script>
{% endblock %}

{% block content %}
    <section id="seccion-registro-venta">
        <h2>Registro de Venta</h2>
        <button id="btn-ver-ventas">Ver ventas</button>

        <hr>

        <label for="inp-cliente">Nombre del cliente: <input id="inp-cliente" type="text"></label>
        <label for="inp-empleado">Nombre del empleado: <input id="inp-empleado" type="text"></label>

        <h3 id="productos-seleccionados">Productos seleccionados</h3>
        <table id="tabla-productos">
            <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Cantidad</th>
                <th>Precio unitario</th>
                <th></th>
            </tr>
            </thead>
            <tbody id="venta-carrito">
            <!-- Filas de productos -->
            </tbody>
            <tfoot>
            <tr>
                <td id="total-venta" colspan="4">Total venta: <span>$0.00</span></td>
            </tr>
            </tfoot>
        </table>

        <button id="btn-finalizar-venta" type="button" disabled>Finalizar venta</button>
    </section>

    <hr>

    <section id="seccion-agregar-productos">
        <h2 id="lista-productos">Lista de productos</h2>

        <div class="filtro-categoria">
            <label for="categoria-select">Categoría:</label>
            <select id="categoria-select" name="categoria" required>
                <option value="" disabled selected>Selecciona una categoría</option>
                {% for cat in categorias %}
                    <option value="{{ cat.id_categoria }}">{{ cat.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <table id="tabla-lista-productos">
            <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Cantidad</th>
                <th>Precio unitario</th>
                <th></th>
            </tr>
            </thead>
            <tbody id="productos-lista">
            <!-- Productos disponibles -->
            </tbody>
        </table>
    </section>
{% endblock %}
